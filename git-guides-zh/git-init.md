# Git Init

```sh
git init
```

`git init` 将任何目录转换为 Git 仓库。

## `git init` 的作用是什么？

`git init` 是使用 Git 开始新项目的一种方式。要开始一个仓库，使用 `git init` 或 `git clone` - 不要同时使用两者。

要初始化一个仓库，Git 会创建一个名为 `.git` 的隐藏目录。该目录存储 Git 使用和创建的所有对象和引用，作为项目历史的一部分。这个隐藏的 `.git` 目录是将普通目录与 Git 仓库区分开来的关键。

## 如何使用 `git init`

### `git init` 的常见用法和选项

* `git init`：将当前目录转换为 Git 仓库
* `git init <目录>`：将当前路径中的目录转换为 Git 仓库
* `git init --bare`：创建一个新的裸仓库（仅用作远程仓库的仓库，不包含活动开发）

你可以在 [git-scm 的文档](https://git-scm.com/docs/git-init) 中查看 `git init` 的所有选项。

## `git init` 的示例

### `git init` 与 `git clone` 的比较

开始一个新项目可能会让人困惑。有时候，不清楚应该使用 `git init`、`git clone`，还是两者都用。

#### `git init`：一个人在本地开始新仓库

你的项目可能已经存在于本地，但还没有 Git。`git init` 可能是你的正确选择。这只需要运行一次，即使其他协作者共享项目。

- 首先，初始化仓库。
- 初始化仓库后，在 GitHub.com 等地方创建远程仓库。
- 然后，使用 `git remote add origin <URL>` 将远程 URL 添加到本地 git 仓库。这会将远程 URL 存储在一个更人性化的名称 `origin` 下。
- 通过使用 `git add` 暂存现有文件，并使用 `git commit` 创建快照，将历史记录塑造成至少一个提交。
- 一旦你有了至少一个提交，你可以推送到远程，并通过 `git push -u origin main` 建立跟踪关系。

#### `git clone`：远程仓库已存在

如果仓库已经存在于远程，你应该选择 `git clone` 而不是 `git init`。

如果你首先创建远程仓库，目的是稍后将项目移动到其中，你可能需要遵循一些其他步骤。如果远程仓库中没有提交，你可以按照上面 `git init` 的步骤操作。如果远程仓库中有提交和文件，但你仍然希望它包含你的项目文件，则 `git clone` 该仓库。然后，将项目文件移动到克隆的仓库中。使用 `git add`、`git commit` 和 `git push` 创建适合项目开始的历史记录。然后，你的团队可以在不再次使用 `git init` 的情况下与仓库交互。

### `git init` 现有文件夹

`git init` 的默认行为是将当前目录转换为 Git 仓库。要使现有项目成为 Git 仓库，请导航到目标根目录。然后，运行 `git init`。

或者，你可以在当前路径中的目录中创建新仓库。使用 `git init <目录>` 并指定要转换为 Git 仓库的目录。

## `git init` 出错

### 在错误目录中运行 `git init`

在错误的地方运行 `git init` 会创建意外的仓库。你可能在使用 Git 时注意到奇怪的错误消息。也许你怀疑另一个父目录也是 Git 仓库。

要解决这个问题，首先需要找出哪个目录是意外的仓库。使用 `git status` 查看当前目录是否被 Git 跟踪。如果是，你可以运行 `ls -al` 并查找隐藏的 `.git` 目录。

如果看不到，使用 `cd ..` 在目录结构中向上导航一级。再次使用 `git status` 结合 `ls -al`。重复这个过程，直到找到 `.git` 目录。

一旦找到 `.git` 目录，并且你确定不希望那是一个 Git 仓库，使用 `rm -rf .git`。这将删除 `.git` 目录，有效地取消初始化该仓库。再次运行 `git status` 确认 Git 不再跟踪这些文件中的任何一个。（可能存在多层 `.git` 目录。）

返回到你的工作仓库，你期望受版本控制的那个。一切应该按预期工作。

## 相关术语

- `git clone [url]`：克隆（下载）GitHub 上已存在的仓库，包括所有文件、分支和提交。
- `git status`：总是个好主意，这个命令显示你在哪个分支上，工作区或暂存区中有哪些文件，以及其他重要信息。
- `git remote -v`：显示关联的远程仓库及其存储的名称，如 `origin`。
- `git remote add origin <url>`：添加远程仓库，以便你可以在新初始化的仓库中与他人协作。
- `git push`：将所有本地分支提交上传到远程。
- `git push -u origin main`：首次推送分支时，这种类型的推送将配置远程和本地仓库之间的关系，以便你将来可以使用 `git pull` 和 `git push` 而不需要额外的选项。 