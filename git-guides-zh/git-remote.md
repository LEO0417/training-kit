# Git Remote

有一些 `git remote` 的操作，如 `git remote -v`，你可能偶尔会使用。

但是，Git 中远程的概念很重要，并且支持许多其他操作。

## Git remote 的作用是什么？

```sh
git remote -v
```

`git remote` 管理你正在用本地仓库跟踪的远程集合。

### 常见的 `git remote` 命令

- `git remote -v`：列出与本地仓库关联的当前远程
- `git remote add [名称] [URL]`：添加远程
- `git remote remove [名称]`：删除远程

### 什么是 `origin`？

如果你尝试在你的仓库中运行 `git remote -v`，你可能会看到名为 `origin` 的东西。你可能在 Git 的许多消息中注意到 `origin`。`origin` 是远程仓库存储的 URL 的人类友好名称。它就像一个键值对，`origin` 是默认值。

### 什么是 `upstream`？

你可能需要或想要为一个本地仓库处理多个远程。这在开源中很常见，当贡献者需要创建仓库的 fork 以获得推送更改到远程的权限时。

在这种情况下，通常创建并克隆一个 fork。然后，默认远程将是 `origin`，指的是 fork。为了使从原始仓库拉取任何更改以更新 fork 的本地副本更容易，许多人也将原始仓库添加为远程。通常将这个远程命名为 `upstream`。

![](https://user-images.githubusercontent.com/9906718/77051803-28625800-69cc-11ea-9533-b5387ed2d3b5.png)

## 与远程通信

Git 中有四个命令会提示与远程通信。除非你使用这四个命令之一，否则你的所有工作都只在本地进行。

- `git push`
- `git clone`
- `git pull`
- `git fetch`

## 分支和远程

一旦与远程的概念结合，分支的概念可能会令人困惑。Git 跟踪你在本地工作的分支，以及与你本地仓库关联的每个远程中的每个分支。

### 远程跟踪分支

如果你在仓库中运行 `git branch --all`，你会注意到一长串分支。默认情况下以红色显示的分支是远程跟踪分支。这些分支是远程上分支的只读副本。每次你运行 `git fetch` 或 `git pull` 时，这些都会更新。

这些不会占用太多空间，所以 Git 默认这样做是可以的。但是，这些会随着时间的推移而堆积 - 它们不会被自动删除。

要删除在远程上删除的远程跟踪分支，运行 `git fetch --prune`。如果你使用 GitHub，这样做是安全的，因为通过拉取请求合并的分支可以恢复。

### 本地工作分支

当你运行 `git branch --all` 时，你还会看到本地工作分支。这些可以与远程上的分支链接，或者它们可以存在而没有远程对应物。

## 相关术语

- `git clone [url]`：克隆（下载）GitHub 上已存在的仓库，包括所有文件、分支和提交。
- `git status`：总是一个好主意，这个命令显示你在哪个分支上，工作区或暂存区中有哪些文件，以及其他重要信息。
- `git push`：将所有本地分支提交上传到远程。
- `git pull`：使用 GitHub 上相应远程分支的所有新提交更新当前本地工作分支。`git pull` 是 `git fetch` 和 `git merge` 的组合。 